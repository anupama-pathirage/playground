task deployWebServer(type: Exec) {
    dependsOn(":docker:nginx:cloudBuild")
    environment("RELEASE_VERSION", "latest") // replace latest with project.version
    commandLine './deploy-web-server.sh'
}

task undeployWebServer(type: Exec) {
    commandLine './undeploy-web-server.sh'
}

task deployNfs(type: Exec) {
    commandLine './deploy-nfs.sh'
}

task undeployNfs(type: Exec) {
    commandLine './undeploy-nfs.sh'
}

task deployCompiler(type: Exec) {
    dependsOn(":docker:compiler:cloudBuild")
    environment("RELEASE_VERSION", "latest") // replace latest with project.version
    commandLine './deploy-compiler.sh'
}

task deployController(type: Exec) {
    dependsOn(":docker:controller:cloudBuild")
    environment("RELEASE_VERSION", "latest") // replace latest with project.version
    commandLine './deploy-controller.sh'
}

task undeployCompiler(type: Exec) {
    commandLine './undeploy-compiler.sh'
}

task undeployController(type: Exec) {
    commandLine './undeploy-controller.sh'
}

task deployIngressResources(type: Exec) {
    environment("RELEASE_VERSION", "latest") // replace latest with project.version
    commandLine './deploy-ingress-resources.sh'
}

task undeployIngressResources(type: Exec) {
    commandLine './undeploy-ingress-resources.sh'
}

task deploy {
    dependsOn deployWebServer
    dependsOn deployCompiler
    dependsOn deployController
    dependsOn deployIngressResources
}

task undeploy {
    dependsOn undeployWebServer
    dependsOn undeployCompiler
    dependsOn undeployController
    dependsOn undeployIngressResources
}